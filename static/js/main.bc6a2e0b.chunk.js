(this["webpackJsonpcrossword-demo"]=this["webpackJsonpcrossword-demo"]||[]).push([[0],{13:function(t,e,n){t.exports=n(22)},18:function(t,e,n){},20:function(t,e,n){},22:function(t,e,n){"use strict";n.r(e);var r,a,c,i=n(0),s=n.n(i),o=n(9),u=n.n(o),l=(n(18),n(1)),h=n.n(l),f=n(3),d=n(2),p=n(4),m=n(5),v=n(7),b=n(6),_=(n(20),n(12)),w=n(10),k=n.n(w),j=!1;function O(t){return E.apply(this,arguments)}function E(){return(E=Object(d.a)(h.a.mark((function t(e){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=function(t){var e=t.toString().split("\n").slice(8),n={"\u3041":"\u3042","\u3043":"\u3044","\u3045":"\u3046","\u3047":"\u3048","\u3049":"\u304a","\u308e":"\u308f"},r={};e.forEach((function(t){var e=t.split("\t");e[0]=e[0].split("").map((function(t){return n[t]?n[t]:t})).join(""),r[e[0]]=e[1]}));var a=Array.from(new Set(Object.keys(r).filter((function(t){return t.length<=8})).filter((function(t){return t.length>=4})).filter((function(t){return t.match(/^[\u3041-\u308f\u3092\u3093\u30fc]+$/)})).filter((function(t){return!t.match(/^([\u3041-\u308f\u3092\u3093\u30fc]{1,2})\1$/)})).filter((function(t){return!t.match(/^([\u3041-\u308f\u3092\u3093\u30fc]{1})\1\1$/)})).filter((function(t){return!t.match(/\u304f\u3093$/)})))),c={};return a.reduce((function(t,e){return t+e})).split("").forEach((function(t){c[t]=null==c[t]?1:c[t]+1})),[a,c,r]},!j){t.next=5;break}return t.abrupt("return",Promise.resolve(y(e,r,a)));case 5:return j=!0,t.abrupt("return",fetch("dic-nico-intersection-pixiv.txt").then(function(){var t=Object(d.a)(h.a.mark((function t(e){var i,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=n,t.next=3,e.text();case 3:return t.t1=t.sent,i=(0,t.t0)(t.t1),s=Object(f.a)(i,3),r=s[0],a=s[1],c=s[2],t.abrupt("return",i);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(){return y(e,r,a)})));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e,n){var r=function(t,e){var n=Object(_.a)({},t);function r(t){for(var e=Object.values(t).reduce((function(t,e){return t+e})),n=Math.random()*e,r=0,a=0,c=Object.entries(t);a<c.length;a++){var i=Object(f.a)(c[a],2),s=i[0];if(n<(r+=i[1]))return s}}for(var a=[],c=0;c<e;c++){var i=r(n);delete n[i],a.push(i)}return a}(n,t),a=e.filter((function(t){return t.split("").map((function(t){return r.includes(t)})).reduce((function(t,e){return t&&e}))}));var c=k.a.generateLayout(function(t){var e=[];for(var n in t)t[n].length>0&&(e[n]={answer:t[n].toLowerCase()});return e}(a)).table,i=new Set(c.reduce((function(t,e){return t.concat(e)})));return i.delete("-"),[c,i]}var x=n(11),g=n.n(x),N=(n(21),["\u308f\u3089\u3083\u3084\u307e\u3071\u3070\u306f\u306a\u3060\u305f\u3056\u3055\u304c\u304b\u3042","\u3092\u308a\u3000\u3000\u307f\u3074\u3073\u3072\u306b\u3062\u3061\u3058\u3057\u304e\u304d\u3044","\u3093\u308b\u3085\u3086\u3080\u3077\u3076\u3075\u306c\u3065\u3064\u305a\u3059\u3050\u304f\u3046","\u30fc\u308c\u3000\u3000\u3081\u307a\u3079\u3078\u306d\u3067\u3066\u305c\u305b\u3052\u3051\u3048","\u3063\u308d\u3087\u3088\u3082\u307d\u307c\u307b\u306e\u3069\u3068\u305e\u305d\u3054\u3053\u304a"].map((function(t){return t.split("").join(" ")})).concat(["{space}"])),S=function(t){Object(v.a)(n,t);var e=Object(b.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var t=this,e=this.props.text,n=e,r=!1;return"-"===e?n="\u25a0":""!==this.props.char_hint[e]?n=this.props.char_hint[e]:""!==this.props.char_ans[e]?(n=this.props.char_ans[e],r=!0):n="\u3000",s.a.createElement("span",{className:(e===this.props.char_selected?" cw-cell_selected":"")+(r?" cw-cell_color-ans":""),onClick:function(){return t.props.clicked(e)}},n)}}]),n}(i.Component),$=function(t){Object(v.a)(n,t);var e=Object(b.a)(n);function n(){var t;return Object(p.a)(this,n),(t=e.call(this)).init_board=Object(d.a)(h.a.mark((function e(){var n,r,a,c,i,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({cw_board:[],char_hint:{},char_ans:{},char_selected:"",solved:!1,dict_link:[["",""],["",""]]}),e.next=3,O(15);case 3:for(n=e.sent,r=Object(f.a)(n,2),a=r[0],c=r[1],i={},s={},c.forEach((function(t){i[t]=t,s[t]=""})),o=0;o<6;o++)i[Object.keys(i)[o]]="";t.setState({cw_board:a,char_hint:i,char_ans:s,char_selected:"",solved:!1,dict_link:[["",""],["",""]]});case 12:case"end":return e.stop()}}),e)}))),t.mouseEnter=function(e,n){var r=JSON.parse(JSON.stringify(t.state.cw_board[e]));r[n]=r[n]+"a";var a=r.join("").match(/^.*?-*([\u3041-\u308f\u3092\u3093\u30fc]*)a([\u3041-\u308f\u3092\u3093\u30fc]*)-*.*$/),i=JSON.parse(JSON.stringify(t.state.cw_board.map((function(t){return t[n]}))));i[e]=i[e]+"a";var s=i.join("").match(/^.*?-*([\u3041-\u308f\u3092\u3093\u30fc]*)a([\u3041-\u308f\u3092\u3093\u30fc]*)-*.*$/),o=[a[1]+a[2],s[1]+s[2]];o=o.map((function(t){return t.length<=1?["",""]:["".concat(t," \u3010").concat(c[t],"\u3011"),"https://dic.nicovideo.jp/a/".concat(c[t])]})),t.setState({dict_link:o})},t.clicked=function(e){"-"!==e&&""===t.state.char_hint[e]&&t.setState({char_selected:e})},t.onKeyPress=function(e){"\u3000"!==e&&"{space}"!==e||(e=""),t.setState((function(n){n.char_ans[t.state.char_selected]=e;for(var r=!0,a=0,c=Object.entries(n.char_hint);a<c.length;a++){var i=Object(f.a)(c[a],2),s=i[0];""===i[1]&&n.char_ans[s]!==s&&(r=!1)}return n.solved=r,n}))},t.state={cw_board:[],char_hint:{},char_ans:{},char_selected:"",solved:!1,dict_link:[["",""],["",""]]},t}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=Object(d.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.init_board();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"App"+(this.state.solved?" solved":"")},s.a.createElement("div",{className:"desc"},s.a.createElement("h1",null,"\u30ca\u30f3\u30af\u30ed\u3000nico-pixiv"),s.a.createElement("p",null,"1. \u540c\u6642\u306b\u70b9\u706f\u3059\u308b\u30de\u30b9\u306b\u306f\u540c\u3058\u6587\u5b57\u3001\u3057\u306a\u3044\u30de\u30b9\u306b\u306f\u9055\u3046\u6587\u5b57\u3092\u3044\u308c\u3066\u30af\u30ed\u30b9\u30ef\u30fc\u30c9\u3092\u5b8c\u6210\u3055\u305b\u3066\u304f\u3060\u3055\u3044\u3002\n2. \u3059\u3079\u3066\u306e\u5358\u8a9e\u306f\u300c\u30cb\u30b3\u30cb\u30b3\u5927\u767e\u79d1\u300d\u300c\u30d4\u30af\u30b7\u30d6\u767e\u79d1\u4e8b\u5178\u300d\u305d\u308c\u305e\u308c\u306b\u5b58\u5728\u3059\u308b\u5358\u8a9e\u306b\u306a\u3089\u306a\u3044\u3068\u3044\u3051\u307e\u305b\u3093\u3002\n3. \u300c\u3041\u3001\u3043\u3001\u3045\u3001\u3047\u3001\u3049\u3001\u308e\u300d\u306f\u3001\u305d\u308c\u305e\u308c\u300c\u3042\u3001\u3044\u3001\u3046\u3001\u3048\u3001\u304a\u3001\u308f\u300d\u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002")),s.a.createElement("div",{className:"cw-board"},this.state.cw_board.map((function(e,n){return s.a.createElement("div",{key:n,className:"cw-row"},e.map((function(e,r){return s.a.createElement("span",{className:"cw-cell",onMouseEnter:function(){return t.mouseEnter(n,r)}},s.a.createElement(S,{key:r,text:e,char_hint:t.state.char_hint,char_ans:t.state.char_ans,clicked:t.clicked,char_selected:t.state.char_selected}))})))}))),s.a.createElement("div",{className:"show-after-clear"},s.a.createElement("button",{onClick:Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.init_board());case 1:case"end":return e.stop()}}),e)})))},"\u6b21\u306e\u554f\u984c"),s.a.createElement("div",null,s.a.createElement("a",{href:this.state.dict_link[0][1]},"\u30e8\u30b3: "+this.state.dict_link[0][0])),s.a.createElement("div",null,s.a.createElement("a",{href:this.state.dict_link[1][1]},"\u30bf\u30c6: "+this.state.dict_link[1][0]))),s.a.createElement("div",{className:"show-before-clear"},s.a.createElement("div",{className:"keyboard"},s.a.createElement(g.a,{onKeyPress:function(e){return t.onKeyPress(e)},layout:{default:N},buttonTheme:[{class:"disabled_hint",buttons:Object.values(this.state.char_hint).join(" ")},{class:"disabled_ans",buttons:Object.values(this.state.char_ans).join(" ")}]})),s.a.createElement("button",{onClick:Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.init_board());case 1:case"end":return e.stop()}}),e)})))},"\u6b21\u306e\u554f\u984c")))}}]),n}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.bc6a2e0b.chunk.js.map